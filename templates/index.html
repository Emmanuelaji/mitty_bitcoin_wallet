{% load static %}
{% block content%}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>{%block title %} Mitty - Home {% endblock title%}</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="{% static 'img/favicon.ico'%}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Saira:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css'%}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css'%}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css'%}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css'%}" rel="stylesheet">
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->


    <!-- Navbar Start -->
    <div class="container-fluid fixed-top px-0 wow fadeIn" data-wow-delay="0.1s">
        <div class="top-bar text-white-50 row gx-0 align-items-center d-none d-lg-flex">
            <div class="col-lg-6 px-5 text-end">

            </div>
        </div>

        <nav class="navbar navbar-expand-lg navbar-dark py-lg-0 px-lg-5 wow fadeIn" data-wow-delay="0.1s">
            <a href="{% url 'index' %}" class="navbar-brand ms-4 ms-lg-0">
                <h2 class="fw-bold text-primary m-0">Mitty<span class="text-white">Wallet</span></h2>
            </a>
            <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse"
                data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto p-4 p-lg-0">
                    <a href="{% url 'index'%}" class="nav-item nav-link active">Home</a>
                    <a href="#" class="nav-item nav-link">About</a>
                    {% if user.is_authenticated %}
                    <a href="#" class="nav-item nav-link">Hey!, {{user.username}}</a>
                </div>
                <div class="d-none d-lg-flex ms-2">
                    <a class="btn btn-outline-success py-2 px-3" href="{% url 'logout' %}">
                        Logout
                        <div class="d-inline-flex btn-sm-square bg-white text-success rounded-circle ms-2">
                            <i class="fa fa-lock"></i>
                        </div>
                    </a>
                    {% else %}
                </div>
                 <div class="d-none d-lg-flex ms-2">
                    <a class="btn btn-outline-success py-2 px-3" href="{% url 'login' %}">
                        Login
                        <div class="d-inline-flex btn-sm-square bg-white text-success rounded-circle ms-2">
                            <i class="fa fa-unlock"></i>
                        </div>
                    </a>

                <div class="d-none d-lg-flex ms-2">
                    <a class="btn btn-outline-primary py-2 px-3" href="{% url 'register' %}">
                        Register
                        <div class="d-inline-flex btn-sm-square bg-white text-primary rounded-circle ms-2">
                            <i class="fa fa-user-plus"></i>
                        </div>
                    </a>
                    {% endif %}
                </div>
                
            </div>
        </nav>
    </div>
    <!-- Navbar End -->


    <!-- Carousel Start -->
    <div class="container-fluid p-0 mb-1">
        <div id="header-carousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="w-100" src="{% static 'img/carousel-1.jpg' %}" alt="Image">
                    <div class="carousel-caption">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-7 pt-5">
                                    <h1 class="display-4 text-white mb-3 animated slideInDown">Get Your Bitcoin Wallet Now</h1>
                                    <a class="btn btn-success py-2 px-3 animated slideInDown" href="#">
                                        New Features
                                        <div
                                            class="d-inline-flex btn-sm-square bg-white text-success rounded-circle ms-2">
                                            <i class="fa fa-lock"></i>
                                        </div>
                                    </a>
                                    <a class="btn btn-primary py-2 px-3 animated slideInDown" href="#">
                                       Learn More
                                        <div
                                            class="d-inline-flex btn-sm-square bg-white text-primary rounded-circle ms-2">
                                            <i class="fa fa-arrow-right"></i>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="w-100" src="{% static 'img/carousel-2.jpg' %}" alt="Image">
                    <div class="carousel-caption">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-7 pt-5">
                                    <h1 class="display-4 text-white mb-3 animated slideInDown">Control Your Bitcoin Wallet</h1>
                                    <a class="btn btn-success py-2 px-3 animated slideInDown" href="#">
                                        New Features
                                        <div
                                            class="d-inline-flex btn-sm-square bg-white text-success rounded-circle ms-2">
                                            <i class="fa fa-lock"></i>
                                        </div>
                                    </a>
                                    <a class="btn btn-primary py-2 px-3 animated slideInDown" href="#">
                                        Learn more
                                        <div
                                            class="d-inline-flex btn-sm-square bg-white text-primary rounded-circle ms-2">
                                            <i class="fa fa-arrow-right"></i>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#header-carousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#header-carousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    <!-- Carousel End -->

 {% if user.is_authenticated %}
    <!-- Send Wallet Start -->
    <div class="container-xxl bg-light my-5 py-1">
        <div class="container py-0">
            <div class="text-center mx-auto mb-2 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 500px;">
                <h2>Your Bitcoin Address</h2>
                <h3 class="text-primary">{{user.first_name}}</h3>
                <h4 class="center">{{detail.balance_usd}} USD </h4>
                <a class="btn btn-dark py-2 px-3 animated slideInDown" href="#" onclick="sendFunction()">
                    Send Bitcoin
                    <div
                        class="d-inline-flex btn-sm-square bg-white text-dark rounded-circle ms-2">
                        <i class="fa fa-arrow-up"></i>
                    </div>
                </a>
                <a class="btn btn-dark py-2 px-3 animated slideInDown" href="#" onclick="receiveFunction()">
                    Receive Bitcoin
                    <div
                        class="d-inline-flex btn-sm-square bg-white text-dark rounded-circle ms-2">
                        <i class="fa fa-arrow-down"></i>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <!-- Send Wallet End -->

    <!-- MAIN -->
    <main role="main">
        <!-- Main Carousel -->
        <div align="center" id="sendbitcoin">
            <!--<h1><b>Send Bitcoin</b></h1><br>-->
            <h1>This Feature is Coming Soon</h1>
            <p style="max-width: 400px; min-width: 100px;">
                <b>
                    For now, you can have access to your funds by exporting it into another wallet provider that has the
                    functionality to send bitcoin .To do that, Click the button below to get your private key, so that
                    you
                    can export it to another wallet provider
                </b>
            </p>
            <a class="btn btn-primary py-2 px-3 animated slideInDown" href="#" onclick="getpk()">
                Get Private Key
                <div class="d-inline-flex btn-sm-square bg-white text-primary rounded-circle ms-2">
                    <i class="fa fa-key"></i>
                </div>
            </a>
            <div id="pk">
                <h3><b>Your Private Key Is:</b></h3>
                <b>{{user.last_name}}</b>
            </div>
    
        </div>
    
        <div align="center" id="receivebitcoin">
            <h1>Copy Your Address Below To Receive Bitcoin</h1>
    
            <style>
                .tooltip {
                    position: relative;
                    display: inline-block;
                }
    
                .tooltip .tooltiptext {
                    visibility: hidden;
                    width: 300px;
                    background-color: #6c757d;
                    color: #fff;
                    text-align: center;
                    border-radius: 6px;
                    padding: 5px;
                    position: absolute;
                    z-index: 1;
                    bottom: 150%;
                    left: 50%;
                    margin-left: -75px;
                    opacity: 0;
                    transition: opacity 0.3s;
                }
    
                .tooltip .tooltiptext::after {
                    content: "";
                    position: absolute;
                    top: 100%;
                    left: 50%;
                    margin-left: -5px;
                    border-width: 5px;
                    border-style: solid;
                    border-color: #6c757d transparent transparent transparent;
                }
    
                .tooltip:hover .tooltiptext {
                    visibility: visible;
                    opacity: 1;
                }
            </style>
    
    
            <input type="text" size="50" style="border-radius: 20px;" value="{{user.first_name}}" id="myInput" readonly>
            <a class="btn btn-primary py-2 px-3 animated slideInDown" id="myInput" onclick="myFunction()" onmouseout="outFunc()">
                    Copy Address
                <div class="d-inline-flex btn-sm-square bg-white text-primary rounded-circle ms-2">
                    <i class="fa fa-copy"></i>
                </div>
            </a>
            <div class="tooltip">
                <button onclick="myFunction()" onmouseout="outFunc()" style="border-radius: 20px;">
                    <span class="tooltiptext" id="myTooltip">Copy to clipboard</span>
                    Copy Address
                </button>
    
    
            </div><br><br>
    
            <h2>Or Scan Your QR Code Below</h2>
    
            <div>
                <img align="center" src="https://bitref.com/qrcode.php?data={{user.first_name}}">
            </div>
    
            <script>
                function myFunction() {
                    var copyText = document.getElementById("myInput");
                    copyText.select();
                    copyText.setSelectionRange(0, 99999);
                    document.execCommand("copy");

                    var tooltip = document.getElementById("myTooltip");
                    tooltip.innerHTML = "Copied: " + copyText.value;
                }

                function outFunc() {
                    var tooltip = document.getElementById("myTooltip");
                    tooltip.innerHTML = "Copy to clipboard";
                }
            </script>
        </div><!--<br><br><br><br><br><br><br>-->
    
        <script>
            document.getElementById("receivebitcoin").style.display = "none";
            document.getElementById("sendbitcoin").style.display = "none";
            document.getElementById("pk").style.display = "none";
            function receiveFunction() {
                var x = document.getElementById("receivebitcoin");
                var y = document.getElementById("details");
                var z = document.getElementById("sendbitcoin")
                var pk = document.getElementById("pk")
                if (x.style.display === "none") {
                    z.style.display = "none";
                    y.style.display = "none";
                    x.style.display = "block";
                } else {
                    z.style.display = "none";
                    x.style.display = "none";
                    y.style.display = "block";
                }
            }
            function sendFunction() {
                var x = document.getElementById("receivebitcoin");
                var y = document.getElementById("details");
                var z = document.getElementById("sendbitcoin")
                if (z.style.display === "none") {
                    z.style.display = "block";
                    y.style.display = "none";
                    x.style.display = "none";
                } else {
                    z.style.display = "none";
                    x.style.display = "none";
                    y.style.display = "block";
                }
            }
            function getpk() {
                pk.style.display = "block";
            }
        </script>
    
    
    
        <section id="details">
            <style>
                table {
                    width: 100%;
                }
    
                table,
                th,
                td {
                    border: 1px solid rgb(90, 86, 86);
                    border-collapse: collapse;
                }
    
                th,
                td {
                    padding: 15px;
                    text-align: left;
                }
    
                table#t01 tr:nth-child(even) {
                    background-color: #eee;
                }
    
                table#t01 tr:nth-child(odd) {
                    background-color: #fff;
                }
    
                table#t01 th {
                    background-color: #001D23;
                    color: white;
                }
            </style>
            <br>
            <h4 align="center"> Click Submit Below To See Details of <b class="text-primary">{{user.first_name}}</b></h4>
            <form action="/" method="POST">
                {% csrf_token %}
    
                <style>
                    .button {
                        border-radius: 25px;
                        background-color: #FF6F0F;
                        /* Green */
                        border: none;
                        color: white;
                        padding: 16px 32px;
                        text-align: center;
                        text-decoration: none;
                        display: inline-block;
                        font-size: 16px;
                        margin: 4px 2px;
                        transition-duration: 0.4s;
                        cursor: pointer;
                    }
    
                    .button1 {
                        border-radius: 25px;
                        background-color: #FF6F0F;
                        color: black;
                        border: 2px solid #FF6F0F;
                    }
    
                    .button1:hover {
                        background-color: white;
                        color: #FF6F0F;
                    }
                </style>
    
                <input type="hidden" name="addr" value="{{user.first_name}}"><br>
                <h6 align="center"><input type="submit" value="Submit" class="button button1"></h6>
            </form>
    
            <!-- On tables -->
            <table class="table-primary" id="t01">
                <tr>
                    <th> </th>
                    <th>BTC</th>
                    <th>USD</th>
                </tr>
                <tr>
                    <td>Transactions</td>
                    <td><b>{{detail.transactions}}</b></td>
                    <td><b> </b></td>
                </tr>
                <tr>
                    <td>Total Received</td>
                    <td><b>{{detail.total_received}}</b></td>
                    <td><b>{{detail.total_received_usd}} USD</b></td>
                </tr>
                <tr>
                    <td>Total Sent</td>
                    <td><b>{{detail.total_sent}}</b></td>
                    <td><b>{{detail.total_sent_usd}} USD</b></td>
                </tr>
                <tr>
                    <td>Final Balance</td>
                    <td><b>{{detail.balance}}</b></td>
                    <td><b>{{detail.balance_usd}} USD</b></td>
                </tr>
            </table>
    </main>

{% else %}
  <div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container text-center">
            <div class="row justify-content-center">
                <div class="col-lg-6">
                    <h1 class="display-5 text-success">Welcome! to Mitty Bitcoin Wallet</h1>
                    <h4 class="mb-4">Register and get your wallet address in a second to receive bitcoin from around the Globe</h4>
                    <p class="mb-4">Why do I need a wallet? Before purchasing bitcoin, you’ll need to set up a wallet to store them.
                        Wallets can be on your mobile, on your desktop or even physical hardware than you can carry with you.</p>
                    <a class="btn btn-outline-primary py-2 px-3" href="{% url 'register' %}">
                        Register now
                        <div class="d-inline-flex btn-sm-square bg-primary text-white rounded-circle ms-2">
                            <i class="fa fa-user-plus"></i>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>

{% endif %}
<!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 footer mt-5 pt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-6 col-md-6">
                    <h1 class="fw-bold text-primary mb-4">Mitty<span class="text-white">Wallet</span></h1>
                    <p>We are the best when it comes to Bitcoins transactions.</p>
                    <div class="d-flex pt-2">
                        <a class="btn btn-square me-1" href="#"><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-square me-1" href="#"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-square me-1" href="#"><i class="fab fa-youtube"></i></a>
                        <a class="btn btn-square me-0" href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <h5 class="text-light mb-4">Newsletter</h5>
                    <p>SignUp for our newsletter and get every news on time.</p>
                    <div class="position-relative mx-auto" style="max-width: 400px;">
                        <input class="form-control bg-transparent w-100 py-3 ps-4 pe-5" type="text"
                            placeholder="Your email">
                        <button type="button"
                            class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">SignUp</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid copyright">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0" >Mitty Wallet
                        &copy; <a href="index.html" id="year"></a>, All Right Reserved. 
                            <script type="text/javascript">var d = new Date();
                              var n = d.getFullYear();
                              document.getElementById("year").innerHTML = n;</script>
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'lib/wow/wow.min.js'%}"></script>
    <script src="{% static 'lib/easing/easing.min.js'%}"></script>
    <script src="{% static 'lib/waypoints/waypoints.min.js'%}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js'%}"></script>
    <script src="{% static 'lib/parallax/parallax.min.js'%}"></script>

    <!-- Template Javascript -->
    <script src="{% static 'js/main.js'%}"></script>
</body>

</html>
{% endblock%}